<%- include("templates/header") %>
<div class="container mt-5 mb-3">
  <h1>New Threads</h1>
  <div class="row">
    <% recentThreads.forEach(thread => { %>
    <!-- Loop through recentThreads -->
    <div class="col-md-4">
      <div
        class="thread-card p-3 mb-2 d-flex flex-column justify-content-between"
      >
        <div class="d-flex justify-content-between">
          <div class="d-flex flex-row align-items-center">
            <div class="thread-card-profile">
              <!-- Check if profile_id is null -->
              <% if (thread.profile_id == null) { %>
              <i class="bx bxl-mailchimp"></i>
              <!-- Default icon -->
              <% } else { %>
              <!-- Replace this with actual logic to get user profile icon -->
              <img
                src="<%= thread.profileIconUrl %>"
                alt="Profile Icon"
                class="profile-icon"
              />
              <!-- User's profile icon -->
              <% } %>
            </div>
            <div class="ms-2 c-details">
              <h6 class="mb-0 thread-card-username"><%= thread.username %></h6>
              <!-- Display username -->
              <span></span>
            </div>
          </div>
        </div>
        <div class="mt-5">
          <h3 class="thread-card-title"><%= thread.title %></h3>
          <!-- Display thread title -->
          <div class="thread-card-text"><%= thread.text %></div>
          <!-- Display thread text -->
        </div>
        <div class="mt-3">
          <i class="bx bx-like"></i>
          <span class="thread-card-likes ms-1"><%= thread.likes %></span>
          <!-- Display thread likes -->
          <i class="bx bx-comment-detail ms-3"></i>
          <span class="thread-card-likes ms-1"><%= thread.comments %></span>
        </div>
      </div>
    </div>
    <% }); %>
    <!-- End of loop -->
  </div>

  <hr class="hr" />
  <h1>Popular</h1>
  <div class="row">
    <% likedThreads.forEach(thread => { %>
    <div class="col-md-4">
      <div
        class="thread-card p-3 mb-2 d-flex flex-column justify-content-between"
      >
        <div class="d-flex justify-content-between">
          <div class="d-flex flex-row align-items-center">
            <div class="thread-card-profile">
              <!-- Check if profile_id is null -->
              <% if (thread.profile_id == null) { %>
              <i class="bx bxl-mailchimp"></i>
              <!-- Default icon -->
              <% } else { %>
              <!-- Replace this with actual logic to get user profile icon -->
              <img
                src="<%= thread.profileIconUrl %>"
                alt="Profile Icon"
                class="profile-icon"
              />
              <!-- User's profile icon -->
              <% } %>
            </div>
            <div class="ms-2 c-details">
              <h6 class="mb-0 thread-card-username"><%= thread.username %></h6>
              <!-- Display username -->
              <span></span>
            </div>
          </div>
        </div>
        <div class="mt-5">
          <h3 class="thread-card-title"><%= thread.title %></h3>
          <!-- Display thread title -->
          <div class="thread-card-text"><%= thread.text %></div>
          <!-- Display thread text -->
        </div>
        <div class="mt-3">
          <i class="bx bx-like"></i>
          <span class="thread-card-likes ms-1"><%= thread.likes %></span>
          <!-- Display thread likes -->
          <i class="bx bx-comment-detail ms-3"></i>
          <span class="thread-card-likes ms-1"><%= thread.comments %></span>
          <!-- Display thread comments -->
        </div>
      </div>
    </div>
    <% }); %>
    <!-- End of loop -->
  </div>
</div>
